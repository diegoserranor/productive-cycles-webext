"use strict";class Adjuster{static adjust(e,t){if(e.stopSubtractor(),e.periods.current.actual(t)<0){const r=this.determinePeriod(e.periods.index,e.periods.timeline,t);if(this.endPrevious(e.periods.index,e.periods.timeline,r),e.periods.index=r,e.periods.current.actual(t)<0)e.end();else{const r=e.periods.current.adjust(t);setTimeout((()=>e.start()),r)}}else{const r=e.periods.current.adjust(t);setTimeout((()=>{e.postState(),e.runSubtractor()}),r)}}static determinePeriod(e,t,r){let s=e;for(let e=s;e<t.length-1;e+=1){const i=t[e].target,d=t[e+1].enabled;if(!(r>i&&d))break;s=e+1}return s}static endPrevious(e,t,r){for(let s=e;s<r;s+=1)t[s].end()}}export{Adjuster};